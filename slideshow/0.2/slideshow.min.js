/**
 * Slideshow
 * 
 * @author Marvin Arlt
 * @date 2020-05-19
 * @version 0.2
 */
function Slideshow(t){const e=this,n={selectors:{container:".slideshowContainer",wrapper:".slideshowWrapper",item:".slideshowItem",previous:".slideshowPrevious",next:".slideshowNext"},autoplay:{active:!1,speed:3e3},firstItem:1,transition:{duration:500,timingFunction:"ease-in-out"}};this.init=function(){e.config=e.setConfiguration(t,n);const i=e.getContainers();for(let t=0;t<i.length;t++){const n=i[t],s=e.getWrapper(n),o=e.getItems(s);e.createDuplicateSlides(s,o);const r=o.length+2;e.updateView(n,s,r),window.addEventListener("resize",function(){e.updateView(n,s,r)}),e.setFirstItem(n,s,o);const c=e.getPreviousButton(n),a=e.getNextButton(n);c.addEventListener("click",function(){e.changeView("previous",n,s,o)}),a.addEventListener("click",function(){e.changeView("next",n,s,o)}),e.config.autoplay.active&&e.autoplay(n,s,o)}},this.changeView=function(t,n,i,s){const o=e.getCurrentItem(i),r=e.getCurrentTransform(i.style.transform),c=e.getContainerWidth(n),a=s.length;let u,l,d;"previous"===t?(l=o.previousElementSibling,u=parseInt(r)-c,d=s[a-1]):(l=o.nextElementSibling,u=parseInt(r)+c,d=s[0]),i.style.transition=e.config.transition.duration+"ms "+e.config.transition.timingFunction,i.style.transform="translateX(-"+u+"px)",o.classList.remove("slideshowCurrentItem"),l.classList.add("slideshowCurrentItem"),l.classList.contains("slideshowDuplicate")&&(u="previous"===t?a*c:c,n.addEventListener("transitionend",function(){i.style.transition="none",i.style.transform="translateX(-"+u+"px)"},{once:!0}),l.classList.remove("slideshowCurrentItem"),d.classList.add("slideshowCurrentItem"))},this.autoplay=function(t,n,i){setInterval(function(){e.changeView("next",t,n,i)},e.config.autoplay.speed)},this.updateView=function(t,n,i){const s=e.getContainerWidth(t)*i;n.style.width=s+"px"},this.createDuplicateSlides=function(t,e){const n=e[0],i=e[e.length-1],s=n.cloneNode(!0),o=i.cloneNode(!0);s.classList.add("slideshowDuplicate"),o.classList.add("slideshowDuplicate"),t.appendChild(s),t.insertBefore(o,n)},this.setFirstItem=function(t,n,i){const s=e.config.firstItem,o=e.getContainerWidth(t)*s,r=i[s-1];n.style.transform="translateX(-"+o+"px)",r.classList.add("slideshowCurrentItem")},this.setConfiguration=function(t,n){const i=new Object;if(void 0===t)return n;for(const s in n)"object"==typeof n[s]?i[s]=e.setConfiguration(t[s],n[s]):i[s]=t[s],t.hasOwnProperty(s)||(i[s]=n[s]);return i},this.getContainerWidth=function(t){return t.getBoundingClientRect().width},this.getContainers=function(){return document.querySelectorAll(e.config.selectors.container)},this.getWrapper=function(t){return t.querySelector(e.config.selectors.wrapper)},this.getItems=function(t){return t.querySelectorAll(e.config.selectors.item)},this.getPreviousButton=function(t){return t.querySelector(e.config.selectors.previous)},this.getNextButton=function(t){return t.querySelector(e.config.selectors.next)},this.getCurrentItem=function(t){return t.querySelector(".slideshowCurrentItem")},this.getCurrentTransform=function(t){return t.replace(/[^\d.]/g,"")},this.init()}